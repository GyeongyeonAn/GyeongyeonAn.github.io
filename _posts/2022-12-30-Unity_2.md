---
layout: single
title:  "Unity 기초 2"
---


## 11) 사원수 (Quaternion)
- 3차원 공간 회전을 표현하는 여러가지 방법중의 하나
- 임의의 카메라 조작이나 키프레임 애니메이션의 보간(interpolation)등에 사용
- 보간 (interpolation)
    - 중간값을 만들어 내는 것
    - 선형 보간
        - lerp
        - 끝점의 값이 주어졌을 때 그 사이의 위치값을 추정하기 위하여 직선 거리에 따라 선형적으로 계산하는 방법
    - 구면선형 보간
        - slerp
        - 구의 면을 따라서 보간을 계산
- 짐벌락(Gimbal-Lock)을 해결
    - X축을 90도 회전한다고 가정한다면 Y축 또는 Z축이 될 수 있다.
    - 회전축이 겹쳐짐으로 인하여 원하지 않는 계산결과가 나오는 현상
- 계산의 효율이 좋고, 메모리를 적게 사용.


## 12) 사원수의 사용
- 사원수 변환은 4개의 요소로 이루어진 사원수 만을 이용하여 임의의 회전축에 대한 변환을 효율적으로 표현할 수 있다.
- 게임에서 사원수 변환을 적용하려면 최종적으로 행렬의 형태로 변환해서 사용해야 한다. (DirectX)
- 오일러 방식의 회전값 : transform.eulerAngles, transform.localeulerAngles
- 쿼터니언 방식의 회전값 : transform.rotation
- 벡터 -> 쿼터니언으로 변환 후 계산 -> 벡터로 변환 후 대입하여 사용
![image](https://user-images.githubusercontent.com/55589616/210026336-49f16b4a-30ed-436a-97a8-c8e642187a57.png)


## 13) 가시성 판단
- 화면에 보여지는 것과 보여지지 않는것을 판단
- 화면에 보이지 않는 데이터
    - 메시(Mesh)의 뒷면
    - 시야 절두체(MainCamera의 시야)에 포함되지 않는 메시나 면
    - 다른 메시에 가려진 메시나 면
- 가시성 판단은 게임의 속도를 높이기 위해서 사용하는 기술
- 필요없는 데이터를 그리지 않는다.
- 컬링(Culling) : 그려지는(랜더링) 부분을 구분
    - 절두체컬링 : 랜더링 되는 부분 
    - 오큘루전컬링 : 가려진 부분을 랜더링하지 않는 것


### 노멀(normal) 벡터
- 면은 앞뒤가 존재한다.
- 앞뒤를 구분하는 기준은 normal벡터이다.
    - 노멀 벡터가 향하는 방향이 앞면이다.
- 면에 수직인 벡터
- 법선벡터
- 노멀 벡터 3개가 선을 이루어 삼각형을 만들고, 삼각형을 메시가 랜더링한다.
- 유니티의 모든 게임오브젝트는 노멀벡터 3개가 있는 여러개의 삼각형으로 이루어져있다.
- 노멀벡터의 개수가 많을 수록, 곡선을 만들 수 있고, 정교한 색과 명암을 구현할 수 있다.

![image](https://user-images.githubusercontent.com/55589616/210029766-faf49b55-4246-4f7d-970c-29725c2a575d.png)


